"use strict";(self.webpackChunkmpeg_coder=self.webpackChunkmpeg_coder||[]).push([[103],{3790:function(e,t,a){a.r(t),a.d(t,{assets:function(){return c},contentTitle:function(){return u},default:function(){return N},frontMatter:function(){return s},metadata:function(){return h},toc:function(){return k}});var n=a(3117),i=a(102),o=(a(7294),a(3905)),r=a(5514),p=a(3119),l=a(6552),d=a(36),m=["components"],s={id:"changelog",title:"Changelog",description:"The changelog of this project.",slug:"/changelog"},u=void 0,h={unversionedId:"changelog",id:"version-3.2.x/changelog",title:"Changelog",description:"The changelog of this project.",source:"@site/versioned_docs/version-3.2.x/changelog.mdx",sourceDirName:".",slug:"/changelog",permalink:"/FFmpeg-Encoder-Decoder-for-Python/docs/changelog",editUrl:"https://github.com/cainmagi/FFmpeg-Encoder-Decoder-for-Python/edit/docs/versioned_docs/version-3.2.x/changelog.mdx",tags:[],version:"3.2.x",frontMatter:{id:"changelog",title:"Changelog",description:"The changelog of this project.",slug:"/changelog"},sidebar:"docs",previous:{title:"Q&A",permalink:"/FFmpeg-Encoder-Decoder-for-Python/docs/troubleshooting/qna"}},c={},k=[{value:"Update Report of <code>mpegCoder</code>",id:"update-report-of-mpegcoder",level:2},{value:"V3.2.4 @ 4/24/2022",id:"v324--4242022",level:3},{value:"V3.2.3 @ 4/22/2022:",id:"v323--4222022",level:3},{value:"V3.2.2 @ 4/22/2022:",id:"v322--4222022",level:3},{value:"V3.2.1 @ 4/22/2022:",id:"v321--4222022",level:3},{value:"V3.2.0 @ 4/8/2022:",id:"v320--482022",level:3},{value:"V3.1.0 @ 7/23/2021:",id:"v310--7232021",level:3},{value:"V3.0.0 update report:",id:"v300-update-report",level:3},{value:"V2.05 update report:",id:"v205-update-report",level:3},{value:"V2.01 update report:",id:"v201-update-report",level:3},{value:"V2.0 update report:",id:"v20-update-report",level:3},{value:"V1.8 update report:",id:"v18-update-report",level:3},{value:"V1.7-linux update report:",id:"v17-linux-update-report",level:3},{value:"V1.7 update report:",id:"v17-update-report",level:3},{value:"V1.5 update report:",id:"v15-update-report",level:3},{value:"V1.4 update report:",id:"v14-update-report",level:3},{value:"V1.2 update report:",id:"v12-update-report",level:3},{value:"V1.0 update report:",id:"v10-update-report",level:3}],g={toc:k};function N(e){var t=e.components,a=(0,i.Z)(e,m);return(0,o.kt)("wrapper",(0,n.Z)({},g,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"This page do not need and will not be translated to other laungages."))),(0,o.kt)("h2",{id:"update-report-of-mpegcoder"},"Update Report of ",(0,o.kt)("inlineCode",{parentName:"h2"},"mpegCoder")),(0,o.kt)("h3",{id:"v324--4242022"},"V3.2.4 @ 4/24/2022"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Fix a bug when ",(0,o.kt)("inlineCode",{parentName:"p"},"tqdm<4.40.0")," is installed. Previously, this problem should not trigger if ",(0,o.kt)("inlineCode",{parentName:"p"},"tqdm>4.40.0")," is installed, or ",(0,o.kt)("inlineCode",{parentName:"p"},"tqdm")," is not installed (",(0,o.kt)("a",{parentName:"p",href:"https://github.com/cainmagi/FFmpeg-Encoder-Decoder-for-Python/issues/5"},(0,o.kt)(r.Z,{icon:p.Z,mdxType:"InlineIcon"})," issue #5"),").")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Fix the same bug (mentioned by item 1) in the ",(0,o.kt)("inlineCode",{parentName:"p"},"setup.py")," script.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Add change logs to ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/cainmagi/FFmpeg-Encoder-Decoder-for-Python/tree/3.2.4-pypi"},(0,o.kt)(r.Z,{icon:d.Z,mdxType:"InlineIcon"})," PyPI release branch"),"."))),(0,o.kt)("h3",{id:"v323--4222022"},"V3.2.3 @ 4/22/2022:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Fix a severe bug that causes the dependencies to be downloaded repeatedly.")),(0,o.kt)("h3",{id:"v322--4222022"},"V3.2.2 @ 4/22/2022:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Fix a typo: ",(0,o.kt)("inlineCode",{parentName:"li"},"mpegCoder.__verion__")," ",(0,o.kt)(r.Z,{icon:l.Z,mdxType:"InlineIcon"})," ",(0,o.kt)("inlineCode",{parentName:"li"},"mpegCoder.__version__"),".")),(0,o.kt)("h3",{id:"v321--4222022"},"V3.2.1 @ 4/22/2022:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Fix an issue caused by the missing dependency ",(0,o.kt)("inlineCode",{parentName:"p"},"libcrypto.so.1.1"),". This fixture is only required by the Linux version.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Format the PyPI release script."))),(0,o.kt)("h3",{id:"v320--482022"},"V3.2.0 @ 4/8/2022:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Upgrade to ",(0,o.kt)("inlineCode",{parentName:"p"},"FFMpeg 5.0")," version.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Fix the const assignment bug caused by the codec configuration method.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"(Only for Linux) Upgrade the dependencies of FFMpeg to the newest versions (",(0,o.kt)("a",{parentName:"p",href:"https://github.com/cainmagi/FFmpeg-Encoder-Decoder-for-Python/issues/4"},(0,o.kt)(r.Z,{icon:p.Z,mdxType:"InlineIcon"})," issue #4"),").")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"(About PyPI) Change the behavior of the PYPI ",(0,o.kt)("inlineCode",{parentName:"p"},".whl")," release. Now the dependencies will not be packed into ",(0,o.kt)("inlineCode",{parentName:"p"},".whl")," directly. When users ",(0,o.kt)("inlineCode",{parentName:"p"},"import mpegCoder")," for the first time, the dependency will be automatically downloaded. Please ensure that you have the authority to modify the ",(0,o.kt)("inlineCode",{parentName:"p"},"site-packages")," folder when you import ",(0,o.kt)("inlineCode",{parentName:"p"},"mpegCoder")," for the first time."))),(0,o.kt)("h3",{id:"v310--7232021"},"V3.1.0 @ 7/23/2021:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Support ",(0,o.kt)("inlineCode",{parentName:"p"},"str()")," type for all string arguments.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Support ",(0,o.kt)("inlineCode",{parentName:"p"},"http"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"ftp"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"sftp")," streams for ",(0,o.kt)("inlineCode",{parentName:"p"},"MpegServer"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Support ",(0,o.kt)("inlineCode",{parentName:"p"},"nthread")," option for ",(0,o.kt)("inlineCode",{parentName:"p"},"MpegDecoder"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"MpegEncoder"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"MpegClient")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"MpegServer"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Fix a bug caused by the constructor ",(0,o.kt)("inlineCode",{parentName:"p"},"MpegServer()"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Clean up all ",(0,o.kt)("inlineCode",{parentName:"p"},"gcc")," warnings of the source codes.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Fix typos in docstrings."))),(0,o.kt)("h3",{id:"v300-update-report"},"V3.0.0 update report:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Fix a severe memory leaking bugs when using ",(0,o.kt)("inlineCode",{parentName:"p"},"AVPacket"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Fix a bug caused by using ",(0,o.kt)("inlineCode",{parentName:"p"},"MpegClient.terminate()")," when a video is closed by the server.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Support the ",(0,o.kt)("inlineCode",{parentName:"p"},"MpegServer"),". This class is used for serving the online video streams.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Refactor the implementation of the loggings.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Add ",(0,o.kt)("inlineCode",{parentName:"p"},"getParameter()")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"setParameter(configDict)")," APIs to ",(0,o.kt)("inlineCode",{parentName:"p"},"MpegEncoder")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"MpegServer"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Move ",(0,o.kt)("inlineCode",{parentName:"p"},"FFMpeg")," depedencies and the ",(0,o.kt)("inlineCode",{parentName:"p"},"OutputStream")," class to the ",(0,o.kt)("inlineCode",{parentName:"p"},"cmpc")," space.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Fix dependency issues and cpp standard issues.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Upgrade to ",(0,o.kt)("inlineCode",{parentName:"p"},"FFMpeg 4.4")," Version.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Add a quick script for fetching the ",(0,o.kt)("inlineCode",{parentName:"p"},"FFMpeg")," dependencies."))),(0,o.kt)("h3",{id:"v205-update-report"},"V2.05 update report:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Fix a severe bug that causes the memory leak when using ",(0,o.kt)("inlineCode",{parentName:"p"},"MpegClient"),".This bug also exists in ",(0,o.kt)("inlineCode",{parentName:"p"},"MpegDecoder"),", but it seems that the bug would not cause memory leak in that case. (Although we have also fixed it now.)")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Upgrade to ",(0,o.kt)("inlineCode",{parentName:"p"},"FFMpeg 4.0")," Version."))),(0,o.kt)("h3",{id:"v201-update-report"},"V2.01 update report:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Fix a bug that occurs when the first received frame may has a PTS larger than zero.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Enable the project produce the newest ",(0,o.kt)("inlineCode",{parentName:"p"},"FFMpeg 3.4.2")," version and use ",(0,o.kt)("inlineCode",{parentName:"p"},"Python 3.6.4"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"numpy 1.14"),". "))),(0,o.kt)("h3",{id:"v20-update-report"},"V2.0 update report:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Revise the bug of the encoder which may cause the stream duration is shorter than the real duration of the video in some not advanced media players.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Improve the structure of the code and remove some unnecessary codes.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Provide a complete version of client, which could demux the video stream from a server in any network protocol."))),(0,o.kt)("h3",{id:"v18-update-report"},"V1.8 update report:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Provide options ",(0,o.kt)("inlineCode",{parentName:"p"},"(widthDst, heightDst)")," to let ",(0,o.kt)("inlineCode",{parentName:"p"},"MpegDecoder")," could control the output size manually. To ensure the option is valid, we must use the method ",(0,o.kt)("inlineCode",{parentName:"p"},"setParameter")," before ",(0,o.kt)("inlineCode",{parentName:"p"},"FFmpegSetup"),". Now you could use this options to get a rescaled output directly:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-python"},"  d = mpegCoder.MpegDecoder() # initialize\n  d.setParameter(widthDst=400, heightDst=300) # noted that these options must be set before 'FFmpegSetup'! \n  d.FFmpegSetup(b'i.avi') # the original video size would not influence the output\n  print(d) # examine the parameters. You could also get the original video size by 'getParameter'\n  d.ExtractFrame(0, 100) # get 100 frames with 400x300\n")),(0,o.kt)("p",{parentName:"li"},"In another example, the set optional parameters could be inherited by encoder, too:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-python"},"  d.setParameter(widthDst=400, heightDst=300) # set optional parameters\n  ...\n  e.setParameter(decoder=d) # the width/height would inherit from widthDst/heightDst rather than original width/height of the decoder.\n")),(0,o.kt)("p",{parentName:"li"},"Noted that we do not provide ",(0,o.kt)("inlineCode",{parentName:"p"},"widthDst"),"/",(0,o.kt)("inlineCode",{parentName:"p"},"heightDst")," in ",(0,o.kt)("inlineCode",{parentName:"p"},"getParameter"),", because these 2 options are all set by users. There is no need to get them from the video metadata. ")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Optimize some realization of Decoder so that its efficiency could be improved."))),(0,o.kt)("h3",{id:"v17-linux-update-report"},"V1.7-linux update report:"),(0,o.kt)("p",null,"Thanks to God, we succeed in this work!"),(0,o.kt)("p",null,"A new version is avaliable for Linux. To implement this tool, you need to install some libraries firstly:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"python3.5")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"numpy 1.13"))),(0,o.kt)("p",null,"If you want, you could install ",(0,o.kt)("inlineCode",{parentName:"p"},"ffmpeg")," on Linux: Here are some instructions"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Check every pack which ffmpeg needs here: ",(0,o.kt)("a",{parentName:"p",href:"https://trac.ffmpeg.org/wiki/CompilationGuide/Ubuntu",title:"Dependency of FFmpeg"},"Dependency of FFmpeg"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Use these steps to install ffmpeg instead of provided commands on the above site."))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-Bash"}," $ git clone https://git.ffmpeg.org/ffmpeg.git\n $ cd ffmpeg\n $ ./configure --prefix=host --enable-gpl --enable-libx264 --enable-libx265 --enable-shared --disable-static --disable-doc\n $ make\n $ make install\n")),(0,o.kt)("h3",{id:"v17-update-report"},"V1.7 update report:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Realize the encoder totally.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Provide a global option ",(0,o.kt)("inlineCode",{parentName:"p"},"dumpLevel")," to control the log shown in the screen.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Fix bugs in initialize functions."))),(0,o.kt)("h3",{id:"v15-update-report"},"V1.5 update report:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Provide an incomplete version of encoder, which could encode frames as a video stream that could not be played by player.")),(0,o.kt)("h3",{id:"v14-update-report"},"V1.4 update report:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Fix a severe bug of the decoder, which causes the memory collapsed if decoding a lot of frames.")),(0,o.kt)("h3",{id:"v12-update-report"},"V1.2 update report:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Use numpy array to replace the native pyList, which improves the speed  significantly.")),(0,o.kt)("h3",{id:"v10-update-report"},"V1.0 update report:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Provide the decoder which could decode videos in arbitrary formats and arbitrary coding.")))}N.isMDXComponent=!0},6552:function(e,t){t.Z={body:'<path fill="currentColor" fill-rule="evenodd" d="M8.22 2.97a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06l2.97-2.97H3.75a.75.75 0 0 1 0-1.5h7.44L8.22 4.03a.75.75 0 0 1 0-1.06z"/>'}},36:function(e,t){t.Z={body:'<path fill="currentColor" fill-rule="evenodd" d="M11.75 2.5a.75.75 0 1 0 0 1.5a.75.75 0 0 0 0-1.5zm-2.25.75a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.492 2.492 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25zM4.25 12a.75.75 0 1 0 0 1.5a.75.75 0 0 0 0-1.5zM3.5 3.25a.75.75 0 1 1 1.5 0a.75.75 0 0 1-1.5 0z"/>'}},3119:function(e,t){t.Z={body:'<path fill="currentColor" d="M11.28 6.78a.75.75 0 0 0-1.06-1.06L7.25 8.69L5.78 7.22a.75.75 0 0 0-1.06 1.06l2 2a.75.75 0 0 0 1.06 0l3.5-3.5z"/><path fill="currentColor" fill-rule="evenodd" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-1.5 0a6.5 6.5 0 1 1-13 0a6.5 6.5 0 0 1 13 0z"/>'}}}]);